<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <div id="encontrar" class="modalDialog">
        <div>
            <a href="#close" title="Close" class="close">X</a>
            <div class="center-align">
                <h5 class="text-grey">Encontrar Guardiões</h5>

                <br/>

                <h:form>
                    <div class="inline">
                        <i class="icons text-grey material-icons">perm_identity</i>
                        <h:inputText class="text-grey" a:placeholder="Nome"></h:inputText>
                    </div>

                    <div class="inline">
                        <i class="icons text-grey material-icons">person</i>
                        <h:inputText class="text-grey" a:placeholder="Sobrenome"></h:inputText>
                    </div>

                    <div class="inline">
                        <i class="icons text-grey material-icons">mail_outline</i>
                        <h:inputText class="text-grey" a:placeholder="Email"></h:inputText>
                    </div>

                    <div class="inline">
                        <i class="icons text-grey material-icons">vpn_key</i>
                        <h:inputText class="text-grey" a:placeholder="Senha"></h:inputText>
                    </div>

                    <br />

                    <div class="center-align">
                        <a href="" class="waves-effect waves-light btn deep-orange lighten-1">Finalizar Cadastro</a>
                    </div>
                </h:form>

            </div>
        </div>
    </div>

    <div id="ser" class="modalDialog">
        <div>
            <a href="#close" title="Close" class="close">X</a>
            <div class="center-align">
                <h5 class="text-grey">Ser Guardião</h5>

                <br/>

                <h:form>
                    <div class="input-file-row-1">
                        <div class="upload-file-container">
                            <img id="preview_image" src="#" alt="" />
                            <div class="upload-file-container-text">
                                <div class = 'one_opacity_0'>
                                    <input type="file" id="patient_pic" label = "add" />
                                </div>
                                <span>Selecione uma Foto</span>
                            </div>
                        </div>
                    </div>

                    <div class="inline">
                        <a id="GetLocation" type="button" class="waves-effect waves-light btn deep-orange lighten-1">Compartilhar Geolocalização</a>
                    </div>

                    <div class="inline">
                        <img width="32" height="32" src="assets/images/latitude.png" />
                        <input id="latitude" class="text-grey" placeholder="Latitude" />
                        <img width="32" height="32" src="assets/images/longitude.png" />
                        <input id="longitude" class="text-grey" placeholder="Longitude" />
                    </div>

                    <br />

                    <div class="center-align">
                        <a href="" class="waves-effect waves-light btn deep-orange lighten-1">Finalizar Cadastro</a>
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <script>
        function readURL(input, target) {
            if (input.files &amp;&amp; input.files[0]) {
                var reader = new FileReader();
                var image_target = $(target);
                reader.onload = function (e) {
                    image_target.attr('src', e.target.result).show();
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        $("#patient_pic").on("change", function () {
            readURL(this, "#preview_image");
        });

        $("#GetLocation").click(function () {
            GetInfo();
        });

        function GetInfo() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(ShowPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function ShowPosition(position) {
            let latitude = position.coords.latitude.toFixed(3);
            let longitude = position.coords.longitude.toFixed(3);

            document.getElementById("latitude").value = latitude;
            document.getElementById("longitude").value = longitude;
        }

    </script>

    <style>
        .input-file-row-1:after {
            content: ".";
            display: block;
            clear: both;
            visibility: hidden;
            line-height: 0;
            height: 0;
        }

        .input-file-row-1{
            display: inline-block;
            margin-top: 25px;
            position: relative;
        }

        #preview_image {
            display: none;
            width: 90px;
            height: 90px;
            margin: 2px 0px 0px 5px;
            border-radius: 10px;
        }

        .upload-file-container { 
            position: relative; 
            width: 100px; 
            height: 137px; 
            overflow: hidden;	
            background: url(assets/images/source.png) top center no-repeat;
            float: left;
            margin-left: 23px;
        } 

        .upload-file-container-text{
            font-family: Arial, sans-serif;
            font-size: 12px;
            color: #719d2b;
            line-height: 17px;
            text-align: center;
            display: block;
            position: absolute; 
            left: 0; 
            bottom: 0; 
            width: 100px; 
            height: 35px;
        }

        .upload-file-container-text > span{
            border-bottom: 1px solid #719d2b;
            cursor: pointer;
        }

        .one_opacity_0 {
            opacity: 0;
            height: 0;
            width: 1px;
            float: left;
        }

    </style>
</ui:composition>